(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{290:function(a,t,s){"use strict";s.r(t);var e=s(13),v=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"链路追踪"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#链路追踪"}},[a._v("#")]),a._v(" 链路追踪")]),a._v(" "),t("h2",{attrs:{id:"基本介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本介绍"}},[a._v("#")]),a._v(" 基本介绍")]),a._v(" "),t("ul",[t("li",[a._v("什么是链路追踪")])]),a._v(" "),t("p",[a._v("随着微服务分布式系统变得日趋复杂，越来越多的组件开始走向分布式化，如分布式服务、分布式数据库、分布式缓存等，使得后台服务构成了一种复杂的分布式网络。在服务能力提升的同时，复杂的网络结构也使问题定位更加困难。在一个请求在经过诸多服务过程中，出现了某一个调用失败的情况，查询具体的异常由哪一个服务引起的就变得十分抓狂，问题定位和处理效率是也会非常低。")]),a._v(" "),t("p",[a._v("分布式链路追踪就是将一次分布式请求还原成调用链路，将一次分布式请求的调用情况集中展示，比如各个服务节点上的耗时、请求具体到达哪台机器上、每个服务节点的请求状态等等。")]),a._v(" "),t("ul",[t("li",[a._v("为什么要使用链路追踪")])]),a._v(" "),t("p",[a._v("链路追踪为分布式应用的开发者提供了完整的调用链路还原、调用请求量统计、链路拓扑、应用依赖分析等工具，可以帮助开发者快速分析和诊断分布式应用架构下的性能瓶颈，提高微服务时代下的开发诊断效率。")]),a._v(" "),t("ul",[t("li",[a._v("skywalking 链路追踪")])]),a._v(" "),t("p",[t("code",[a._v("SkyWalking")]),a._v("是一个可观测性分析平台（Observability Analysis Platform 简称OAP）和应用性能管理系统（Application Performance Management 简称 APM）。")]),a._v(" "),t("p",[a._v("提供分布式链路追踪，服务网格（Service Mesh）遥测分析，度量（Metric）聚合和可视化一体化解决方案。")]),a._v(" "),t("p",[a._v("SkyWalking 特点")]),a._v(" "),t("ul",[t("li",[a._v("多语言自动探针，java，.Net Code ,Node.Js")]),a._v(" "),t("li",[a._v("多监控手段，语言探针和Service Mesh")]),a._v(" "),t("li",[a._v("轻量高效，不需要额外搭建大数据平台")]),a._v(" "),t("li",[a._v("模块化架构，UI ，存储《集群管理多种机制可选")]),a._v(" "),t("li",[a._v("支持警告")]),a._v(" "),t("li",[a._v("优秀的可视化效果。")])]),a._v(" "),t("p",[a._v("下面是"),t("code",[a._v("SkyWalking")]),a._v("的架构图：\n"),t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-551a741ebdd3614f06408cc23dc302ef576.png",alt:"skywalking"}})]),a._v(" "),t("h2",{attrs:{id:"下载方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载方式"}},[a._v("#")]),a._v(" 下载方式")]),a._v(" "),t("ul",[t("li",[a._v("Windows平台安装包下载")])]),a._v(" "),t("p",[a._v("可以从"),t("code",[a._v("http://skywalking.apache.org/downloads")]),a._v("下载"),t("code",[a._v("apache-skywalking-apm-$version.tar.gz")]),a._v("包。")]),a._v(" "),t("p",[a._v("Windows下载解压后（.tar.gz），直接点击"),t("code",[a._v("bin/startup.bat")]),a._v("就可以了，这个时候实际上是启动了两个项目，一个收集器，一个web页面。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-9a74069dbd42e28e47a94840d8db7475652.png",alt:"skywalking"}})]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),t("p",[a._v("如果觉得官网下载慢，可以使用我分享的网盘地址: https://pan.baidu.com/s/1E9J52g6uW_VFWY34fHL6zA 提取码: vneh")])]),a._v(" "),t("ul",[t("li",[a._v("打开控制台")])]),a._v(" "),t("p",[t("code",[a._v("skywalking")]),a._v("提供了一个可视化的监控平台，安装好之后，在浏览器中输入("),t("a",{attrs:{href:"http://localhost:8080",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://localhost:8080"),t("OutboundLink")],1),a._v(")就可以访问了。（我使用的是8.3.0版本）")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-8c56e9280dbd69e3db1508fa27af7fa704a.png",alt:"skywalking"}})]),a._v(" "),t("h2",{attrs:{id:"如何使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何使用"}},[a._v("#")]),a._v(" 如何使用")]),a._v(" "),t("ul",[t("li",[a._v("配置vm参数")])]),a._v(" "),t("p",[t("code",[a._v("idea")]),a._v("配置"),t("code",[a._v("vm")]),a._v("参数图：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-28824574c3bb227dfc487aa82fa60852656.png",alt:"idea skywalking"}})]),a._v(" "),t("p",[t("code",[a._v("eclipse")]),a._v("配置"),t("code",[a._v("vm")]),a._v("参数图：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-ea035ca46c210197746804c59fad4ef403b.png",alt:"eclipse skywalking"}})]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("-javaagent:D:\\apache-skywalking-apm-bin\\agent\\skywalking-agent.jar\n-Dskywalking.agent.service_name=ruoyi-gateway\n-Dskywalking.collector.backend_service=localhost:11800\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("p",[a._v("启动项目，访问接口，再去("),t("a",{attrs:{href:"http://localhost:8080",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://localhost:8080"),t("OutboundLink")],1),a._v(")看面板数据")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-c3d59e9788dc7fbc34a9dd9235ad7856ad4.png",alt:"skywalking"}})]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("参数")]),a._v(" "),t("th",[a._v("描述")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("javaagent")]),a._v(" "),t("td",[a._v("配置skywalking-agent.jar的地址")])]),a._v(" "),t("tr",[t("td",[a._v("service_name")]),a._v(" "),t("td",[a._v("配置需要监控的服务名")])]),a._v(" "),t("tr",[t("td",[a._v("javaagent")]),a._v(" "),t("td",[a._v("skywalking收集器服务的地址")])])])]),a._v(" "),t("h2",{attrs:{id:"链路跟踪"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#链路跟踪"}},[a._v("#")]),a._v(" 链路跟踪")]),a._v(" "),t("p",[a._v("当我们访问一个服务，而他会调用另一个服务的时候，点击拓扑图会出现下图的效果，这就是链路跟踪的效果")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-fc658837ebe738ba9d470f1f2b4c0de4231.png",alt:"skywalking"}})]),a._v(" "),t("h2",{attrs:{id:"追踪调用链"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#追踪调用链"}},[a._v("#")]),a._v(" 追踪调用链")]),a._v(" "),t("p",[a._v("在追踪界面，可以查看整个请求的具体调用链")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-a36efa6463829a3ebbc4cc4efacb6eb57e3.png",alt:"skywalking"}})])])}),[],!1,null,null,null);t.default=v.exports}}]);