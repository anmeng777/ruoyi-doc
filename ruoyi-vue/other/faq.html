<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常见问题 | RuoYi</title>
    <meta name="generator" content="VuePress 1.8.3">
    <link rel="icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="/css/ruoyi.css">
    <script charset="utf-8" src="/js/ruoyi.js"></script>
    <meta name="description" content="使用若依快速构建web应用程序">
    
    <link rel="preload" href="/assets/css/0.styles.d6ad21ed.css" as="style"><link rel="preload" href="/assets/js/app.c3abf7ee.js" as="script"><link rel="preload" href="/assets/js/2.f516d180.js" as="script"><link rel="preload" href="/assets/js/45.4e39aa7c.js" as="script"><link rel="prefetch" href="/assets/js/10.731a4d43.js"><link rel="prefetch" href="/assets/js/11.528419ea.js"><link rel="prefetch" href="/assets/js/12.e7444f79.js"><link rel="prefetch" href="/assets/js/13.a395ede7.js"><link rel="prefetch" href="/assets/js/14.874b879c.js"><link rel="prefetch" href="/assets/js/15.474d0efa.js"><link rel="prefetch" href="/assets/js/16.501f0998.js"><link rel="prefetch" href="/assets/js/17.c9fd1b5b.js"><link rel="prefetch" href="/assets/js/18.840a1c4b.js"><link rel="prefetch" href="/assets/js/19.29b935c2.js"><link rel="prefetch" href="/assets/js/20.4f577393.js"><link rel="prefetch" href="/assets/js/21.8b85136f.js"><link rel="prefetch" href="/assets/js/22.678e089b.js"><link rel="prefetch" href="/assets/js/23.e608d9bf.js"><link rel="prefetch" href="/assets/js/24.3df80953.js"><link rel="prefetch" href="/assets/js/25.80bdd342.js"><link rel="prefetch" href="/assets/js/26.8a3b95a9.js"><link rel="prefetch" href="/assets/js/27.3eb61a11.js"><link rel="prefetch" href="/assets/js/28.4b1c6f97.js"><link rel="prefetch" href="/assets/js/29.a8b19b18.js"><link rel="prefetch" href="/assets/js/3.ca16bf72.js"><link rel="prefetch" href="/assets/js/30.a42979a6.js"><link rel="prefetch" href="/assets/js/31.379791f7.js"><link rel="prefetch" href="/assets/js/32.39b24193.js"><link rel="prefetch" href="/assets/js/33.444cf8e8.js"><link rel="prefetch" href="/assets/js/34.b55a1c88.js"><link rel="prefetch" href="/assets/js/35.fbcd2bb6.js"><link rel="prefetch" href="/assets/js/36.131461bf.js"><link rel="prefetch" href="/assets/js/37.319d0ad7.js"><link rel="prefetch" href="/assets/js/38.f0549b87.js"><link rel="prefetch" href="/assets/js/39.45a1dd30.js"><link rel="prefetch" href="/assets/js/4.c986860c.js"><link rel="prefetch" href="/assets/js/40.4aeafe89.js"><link rel="prefetch" href="/assets/js/41.34f2f0ac.js"><link rel="prefetch" href="/assets/js/42.a4fa56dc.js"><link rel="prefetch" href="/assets/js/43.c847d416.js"><link rel="prefetch" href="/assets/js/44.e54eadaa.js"><link rel="prefetch" href="/assets/js/46.728be48a.js"><link rel="prefetch" href="/assets/js/47.0964481e.js"><link rel="prefetch" href="/assets/js/48.4bf5de6e.js"><link rel="prefetch" href="/assets/js/49.c50a41bd.js"><link rel="prefetch" href="/assets/js/5.88ad39ea.js"><link rel="prefetch" href="/assets/js/50.68d2fdad.js"><link rel="prefetch" href="/assets/js/51.8c138180.js"><link rel="prefetch" href="/assets/js/52.63209656.js"><link rel="prefetch" href="/assets/js/53.3c37058f.js"><link rel="prefetch" href="/assets/js/54.ead2f3aa.js"><link rel="prefetch" href="/assets/js/55.04038ace.js"><link rel="prefetch" href="/assets/js/56.9a50bae4.js"><link rel="prefetch" href="/assets/js/57.e8b2b4d0.js"><link rel="prefetch" href="/assets/js/58.8e2ac16b.js"><link rel="prefetch" href="/assets/js/59.3fb2e8d2.js"><link rel="prefetch" href="/assets/js/6.da8722b2.js"><link rel="prefetch" href="/assets/js/60.aae167a9.js"><link rel="prefetch" href="/assets/js/7.6075b05b.js"><link rel="prefetch" href="/assets/js/8.c6b3de51.js"><link rel="prefetch" href="/assets/js/9.b57aa4ca.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d6ad21ed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">RuoYi</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ruoyi/" class="nav-link">
  文档
</a></div><div class="nav-item"><a href="/ruoyi-vue/" class="nav-link router-link-active">
  分离版
</a></div><div class="nav-item"><a href="/ruoyi-cloud/" class="nav-link">
  微服务版
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="生态系统" class="dropdown-title"><span class="title">生态系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="生态系统" class="mobile-dropdown-title"><span class="title">生态系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          项目
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://gitee.com/y_project/RuoYi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RuoYi
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://gitee.com/y_project/RuoYi-Vue" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RuoYi-Vue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://gitee.com/y_project/RuoYi-Cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RuoYi-Cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          扩展列表
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ruoyi/document/xmkz.html" class="nav-link">
  RuoYi 项目扩展
</a></li><li class="dropdown-subitem"><a href="/ruoyi-vue/document/xmkz.html" class="nav-link">
  RuoYi-Vue 项目扩展
</a></li><li class="dropdown-subitem"><a href="/ruoyi-cloud/document/xmkz.html" class="nav-link">
  RuoYi-Cloud 项目扩展
</a></li></ul></li><li class="dropdown-item"><h4>
          帮助
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://gitee.com/y_project/RuoYi/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我要提问
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="/ruoyi/other/faq.html" class="nav-link">
  常见问题
</a></li><li class="dropdown-subitem"><a href="https://jq.qq.com/?_wv=1027&amp;k=1sNsfWzD" target="_blank" rel="noopener noreferrer" class="nav-link external">
  加入QQ群
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/yangzongzhuan/RuoYi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://gitee.com/y_project/RuoYi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ruoyi/" class="nav-link">
  文档
</a></div><div class="nav-item"><a href="/ruoyi-vue/" class="nav-link router-link-active">
  分离版
</a></div><div class="nav-item"><a href="/ruoyi-cloud/" class="nav-link">
  微服务版
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="生态系统" class="dropdown-title"><span class="title">生态系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="生态系统" class="mobile-dropdown-title"><span class="title">生态系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          项目
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://gitee.com/y_project/RuoYi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RuoYi
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://gitee.com/y_project/RuoYi-Vue" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RuoYi-Vue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://gitee.com/y_project/RuoYi-Cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RuoYi-Cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          扩展列表
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ruoyi/document/xmkz.html" class="nav-link">
  RuoYi 项目扩展
</a></li><li class="dropdown-subitem"><a href="/ruoyi-vue/document/xmkz.html" class="nav-link">
  RuoYi-Vue 项目扩展
</a></li><li class="dropdown-subitem"><a href="/ruoyi-cloud/document/xmkz.html" class="nav-link">
  RuoYi-Cloud 项目扩展
</a></li></ul></li><li class="dropdown-item"><h4>
          帮助
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://gitee.com/y_project/RuoYi/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我要提问
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="/ruoyi/other/faq.html" class="nav-link">
  常见问题
</a></li><li class="dropdown-subitem"><a href="https://jq.qq.com/?_wv=1027&amp;k=1sNsfWzD" target="_blank" rel="noopener noreferrer" class="nav-link external">
  加入QQ群
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/yangzongzhuan/RuoYi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://gitee.com/y_project/RuoYi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>文档</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ruoyi-vue/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/ruoyi-vue/document/kslj.html" class="sidebar-link">快速了解</a></li><li><a href="/ruoyi-vue/document/hjbs.html" class="sidebar-link">环境部署</a></li><li><a href="/ruoyi-vue/document/xmjs.html" class="sidebar-link">项目介绍</a></li><li><a href="/ruoyi-vue/document/htsc.html" class="sidebar-link">后台手册</a></li><li><a href="/ruoyi-vue/document/qdsc.html" class="sidebar-link">前端手册</a></li><li><a href="/ruoyi-vue/document/zjwd.html" class="sidebar-link">组件文档</a></li><li><a href="/ruoyi-vue/document/cjjc.html" class="sidebar-link">插件集成</a></li><li><a href="/ruoyi-vue/document/xmkz.html" class="sidebar-link">项目扩展</a></li><li><a href="/ruoyi-vue/document/spjc.html" class="sidebar-link">视频教程</a></li><li><a href="/ruoyi-vue/document/gxrz.html" class="sidebar-link">更新日志</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>其它</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ruoyi-vue/other/faq.html" aria-current="page" class="active sidebar-link">常见问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何新增系统图标" class="sidebar-link">如何新增系统图标</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何不登录直接访问" class="sidebar-link">如何不登录直接访问</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何更换项目包路径" class="sidebar-link">如何更换项目包路径</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#业务模块访问出现404" class="sidebar-link">业务模块访问出现404</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何使用多数据源" class="sidebar-link">如何使用多数据源</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何更换主题皮肤" class="sidebar-link">如何更换主题皮肤</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何使用横向菜单" class="sidebar-link">如何使用横向菜单</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#系统接口访问出现401" class="sidebar-link">系统接口访问出现401</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何更换后端请求地址" class="sidebar-link">如何更换后端请求地址</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何启动项目https协议" class="sidebar-link">如何启动项目https协议</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何获取用户登录信息" class="sidebar-link">如何获取用户登录信息</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#提示您没有数据的权限" class="sidebar-link">提示您没有数据的权限</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何创建新的菜单页签" class="sidebar-link">如何创建新的菜单页签</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何手动配置路由传参" class="sidebar-link">如何手动配置路由传参</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何菜单配置路由传参" class="sidebar-link">如何菜单配置路由传参</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何动态修改页签名称" class="sidebar-link">如何动态修改页签名称</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何实现路由的懒加载" class="sidebar-link">如何实现路由的懒加载</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#使用gzip解压缩静态文件" class="sidebar-link">使用Gzip解压缩静态文件</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何防止请求重复提交" class="sidebar-link">如何防止请求重复提交</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何进行流量限制控制" class="sidebar-link">如何进行流量限制控制</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何实现滑块验证码" class="sidebar-link">如何实现滑块验证码</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#异步处理获取用户信息" class="sidebar-link">异步处理获取用户信息</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#前端如何配置后端接口" class="sidebar-link">前端如何配置后端接口</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#图片上传成功不能显示" class="sidebar-link">图片上传成功不能显示</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#富文本自定义上传地址" class="sidebar-link">富文本自定义上传地址</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#富文本显示html内容" class="sidebar-link">富文本显示HTML内容</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#侧边栏如何默认展开" class="sidebar-link">侧边栏如何默认展开</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何调整左侧菜单宽度" class="sidebar-link">如何调整左侧菜单宽度</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#左侧菜单如何默认收缩" class="sidebar-link">左侧菜单如何默认收缩</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#菜单名称过长显示不全" class="sidebar-link">菜单名称过长显示不全</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#进入首页默认记忆控制台" class="sidebar-link">进入首页默认记忆控制台</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何设置接口的超时时间" class="sidebar-link">如何设置接口的超时时间</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#默认跳转到第一个子菜单" class="sidebar-link">默认跳转到第一个子菜单</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#生产环境图标加载时乱码" class="sidebar-link">生产环境图标加载时乱码</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#解决node-sass安装失败" class="sidebar-link">解决node-sass安装失败</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#浏览器兼容性问题需求" class="sidebar-link">浏览器兼容性问题需求</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何分析构建文件体积" class="sidebar-link">如何分析构建文件体积</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#模态框点击空白不消失" class="sidebar-link">模态框点击空白不消失</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何给模态框添加拖拽" class="sidebar-link">如何给模态框添加拖拽</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#模态框可拖动弹窗宽度" class="sidebar-link">模态框可拖动弹窗宽度</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#模态框可拖动弹窗高度" class="sidebar-link">模态框可拖动弹窗高度</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何给表格设置固定列" class="sidebar-link">如何给表格设置固定列</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何给默认的表格加边框" class="sidebar-link">如何给默认的表格加边框</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#表单按回车键会刷新页面问题" class="sidebar-link">表单按回车键会刷新页面问题</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何在表格中实现图片预览" class="sidebar-link">如何在表格中实现图片预览</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何支持多类型数据库" class="sidebar-link">如何支持多类型数据库</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何降低mysql驱动版本" class="sidebar-link">如何降低mysql驱动版本</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何配置tomcat访问日志" class="sidebar-link">如何配置tomcat访问日志</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何配置项目访问根路径" class="sidebar-link">如何配置项目访问根路径</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#普通用户创建文件无权限" class="sidebar-link">普通用户创建文件无权限</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#swagger的启用和禁用" class="sidebar-link">Swagger的启用和禁用</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何汉化系统接口swagger" class="sidebar-link">如何汉化系统接口Swagger</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#swagger接口出现转换错误" class="sidebar-link">Swagger接口出现转换错误</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何excel导出子对象多个字段" class="sidebar-link">如何Excel导出子对象多个字段</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#tomcat部署多个war包项目异常" class="sidebar-link">Tomcat部署多个War包项目异常</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#tomcat临时目录tmp抛错误异常" class="sidebar-link">Tomcat临时目录tmp抛错误异常</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何部署配置支持https访问" class="sidebar-link">如何部署配置支持https访问</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#特殊字符串被过滤的解决办法" class="sidebar-link">特殊字符串被过滤的解决办法</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#linux系统验证码乱码解决方法" class="sidebar-link">Linux系统验证码乱码解决方法</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#公共数据库定时任务没有被执行" class="sidebar-link">公共数据库定时任务没有被执行</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何处理long类型精度丢失问题" class="sidebar-link">如何处理Long类型精度丢失问题</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何修改swagger默认访问地址" class="sidebar-link">如何修改Swagger默认访问地址</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何默认显示顶部导航栏菜单" class="sidebar-link">如何默认显示顶部导航栏菜单</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何修改超级管理员登录密码" class="sidebar-link">如何修改超级管理员登录密码</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何修改数据监控登录账户密码" class="sidebar-link">如何修改数据监控登录账户密码</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何设置用户登录缓存超时时间" class="sidebar-link">如何设置用户登录缓存超时时间</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何格式化前端日期时间戳内容" class="sidebar-link">如何格式化前端日期时间戳内容</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#登录页如何开启注册用户功能" class="sidebar-link">登录页如何开启注册用户功能</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#登录页面如何不显示验证码" class="sidebar-link">登录页面如何不显示验证码</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何限制账户不允许多终端登录" class="sidebar-link">如何限制账户不允许多终端登录</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何区分部署多个项目的redis缓存" class="sidebar-link">如何区分部署多个项目的Redis缓存</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#前端静态资源如何整合到后端访问" class="sidebar-link">前端静态资源如何整合到后端访问</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#使用velocity模板引擎兼容-符号" class="sidebar-link">使用Velocity模板引擎兼容$符号</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#登录密码如何使用加密传输方式" class="sidebar-link">登录密码如何使用加密传输方式</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何解决多数据源事务的一致性" class="sidebar-link">如何解决多数据源事务的一致性</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#登录出现datatypeconverter异常" class="sidebar-link">登录出现DatatypeConverter异常</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何优雅的关闭后台系统服务" class="sidebar-link">如何优雅的关闭后台系统服务</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#如何解决导出使用下载插件出现异常" class="sidebar-link">如何解决导出使用下载插件出现异常</a></li><li class="sidebar-sub-header"><a href="/ruoyi-vue/other/faq.html#更多项目常见问题查询" class="sidebar-link">更多项目常见问题查询</a></li></ul></li><li><a href="/ruoyi-vue/other/donate.html" class="sidebar-link">捐赠支持</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="常见问题"><a href="#常见问题" class="header-anchor">#</a> 常见问题</h1> <h2 id="如何新增系统图标"><a href="#如何新增系统图标" class="header-anchor">#</a> 如何新增系统图标</h2> <p>如果你没有在本项目 <a href="https://gitee.com/y_project/RuoYi-Vue/tree/master/ruoyi-ui/src/assets/icons/svg" target="_blank" rel="noopener noreferrer">Icon<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中找到需要的图标，可以到 <a href="http://iconfont.cn/" target="_blank" rel="noopener noreferrer">iconfont.cn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 上选择并生成自己的业务图标库，再进行使用。或者其它 svg 图标网站，下载 svg 并放到文件夹之中就可以了。</p> <p>下载完成之后将下载好的 .svg 文件放入 <code>@/icons/svg</code> 文件夹下之后就会自动导入。</p> <p><strong>使用方式</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>svg<span class="token operator">-</span>icon icon<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;password&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token comment">// icon-class 为 icon 的名字</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>菜单图标会自动引入<code>@/icons/svg</code>，放入此文件夹中图标就可以选择了</p></div> <h2 id="如何不登录直接访问"><a href="#如何不登录直接访问" class="header-anchor">#</a> 如何不登录直接访问</h2> <p>方法1：在 SecurityConfig 中设置<code>httpSecurity</code> 配置匿名访问</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 使用 permitAll() 方法所有人都能访问，包括带上 token 访问</span>
<span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">&quot;/admins/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 使用 anonymous() 所有人都能访问，但是带上 token 访问后会报错</span>
<span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">&quot;/admins/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">anonymous</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>方法2：在对应的方法或类上面使用<code>@Anonymous</code>注解。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 类上定义匿名注解，作用于所有的方法</span>
<span class="token annotation punctuation">@Anonymous</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/system/xxxx&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SysXxxxController</span> <span class="token keyword">extends</span> <span class="token class-name">BaseController</span>
<span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">// 方法定义匿名注解，作用于单独的方法</span>
<span class="token annotation punctuation">@Anonymous</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/list&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SysXxxx</span><span class="token punctuation">&gt;</span></span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token class-name">SysXxxx</span> xxxx<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> xxxxList<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">警告</p> <p>匿名访问的方法上面<code>@PreAuthorize</code>权限注解也需要去掉，因为已经使用匿名访问了，权限自然也不需要去验证了。</p></div> <div class="custom-block tip"><p class="custom-block-title">前端不登录如何直接访问</p> <p>如果是前端页面可以在<code>src/permission.js</code>配置<code>whiteList</code>属性白名单即可。</p></div> <h2 id="如何更换项目包路径"><a href="#如何更换项目包路径" class="header-anchor">#</a> 如何更换项目包路径</h2> <p><a href="/ruoyi/other/faq.html#如何更换项目包路径">参考如何更换项目包路径</a></p> <h2 id="业务模块访问出现404"><a href="#业务模块访问出现404" class="header-anchor">#</a> 业务模块访问出现404</h2> <p><a href="/ruoyi/other/faq.html#业务模块访问出现404">参考业务模块访问出现404</a></p> <h2 id="如何使用多数据源"><a href="#如何使用多数据源" class="header-anchor">#</a> 如何使用多数据源</h2> <p><a href="/ruoyi/other/faq.html#如何使用多数据源">参考如何使用多数据源</a></p> <h2 id="如何更换主题皮肤"><a href="#如何更换主题皮肤" class="header-anchor">#</a> 如何更换主题皮肤</h2> <p>默认的主题都是深色主题，如果需要其他主题可以做如下配置。</p> <p>1、点击顶部最右侧个人中心头像，选择布局设置，选择<code>主题风格设置</code>。（局部设置）</p> <p>2、在<code>ruoyi-ui\src\settings.js</code>，设置侧边栏主题<code>sideTheme</code>为<code>theme-xxxx</code>。（全局设置）</p> <h2 id="如何使用横向菜单"><a href="#如何使用横向菜单" class="header-anchor">#</a> 如何使用横向菜单</h2> <p>默认的导航菜单都是在左侧，如果需要横向导航菜单可以做如下配置。</p> <p>1、点击顶部最右侧个人中心头像，选择布局设置，开启<code>TopNav</code>。（局部设置）</p> <p>2、在<code>ruoyi-ui\src\settings.js</code>，设置是否显示顶部导航<code>topNav</code>为<code>true</code>。（全局设置）</p> <h2 id="系统接口访问出现401"><a href="#系统接口访问出现401" class="header-anchor">#</a> 系统接口访问出现401</h2> <p>在测试系统接口中可能存在一些接口用到用户信息或权限验证，此时需要添加全局的<code>token</code>参数。如图</p> <p><img src="https://oscimg.oschina.net/oscnet/up-a474910efef3e0739b42f3d5cc329f8ef66.png" alt="swagger"></p> <p><code>token</code>是在登录成功后返回的，可以在浏览器通过F12查看<code>Network</code>中的请求地址，对应参数<code>Authorization</code>。复制截图内容到<code>swagger</code>全局<code>Authorization</code>属性<code>value</code>参数中，点击<code>Authorize</code>，以后每次访问接口会携带此<code>token</code>信息。</p> <p><img src="https://oscimg.oschina.net/oscnet/up-f3571ea3706bb7881d8ee1aa3e7193962f4.png" alt="swagger"></p> <h2 id="如何更换后端请求地址"><a href="#如何更换后端请求地址" class="header-anchor">#</a> 如何更换后端请求地址</h2> <p>在<code>vue.config.js</code>中，修改<code>target</code>值为对应的的后端接口地址。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>
  proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_BASE_API</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      target<span class="token operator">:</span> `http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8080</span>`<span class="token punctuation">,</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="如何启动项目https协议"><a href="#如何启动项目https协议" class="header-anchor">#</a> 如何启动项目https协议</h2> <p>通常情况下，在启动本地项目时，默认都是<code>http</code>协议，但是有时候测试网站要求我们的协议是<code>https</code>，那么可以配置<code>vue.config.js</code>中的<code>devServer</code>,让其在启动项目的时候，默认是https协议。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token operator">...</span>
	<span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	  <span class="token literal-property property">https</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	  <span class="token operator">...</span><span class="token operator">...</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="如何获取用户登录信息"><a href="#如何获取用户登录信息" class="header-anchor">#</a> 如何获取用户登录信息</h2> <ol><li>第一种方法</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 获取当前的用户名称</span>
<span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token class-name">SecurityUtils</span><span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>2、缓存获取当前用户信息</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">TokenService</span> tokenService<span class="token punctuation">;</span>
	
<span class="token class-name">LoginUser</span> loginUser <span class="token operator">=</span> tokenService<span class="token punctuation">.</span><span class="token function">getLoginUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取当前的用户名称</span>
<span class="token class-name">String</span> username <span class="token operator">=</span> loginUser<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>3、vue中获取当前用户信息</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> username <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>user<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="提示您没有数据的权限"><a href="#提示您没有数据的权限" class="header-anchor">#</a> 提示您没有数据的权限</h2> <p>这种情况都属于权限标识配置不对在<code>菜单管理</code>配置好权限标识（菜单&amp;按钮）</p> <ol><li>确认此用户是否已经配置角色</li> <li>确认此角色是否已经配置菜单权限</li> <li>确认此菜单权限标识是否和后台代码一致</li></ol> <p>如参数管理<br>
后台配置<code>@PreAuthorize(&quot;@ss.hasPermi('system:config:query')&quot;)</code>对应参数管理权限标识为<code>system:config:query</code></p> <p>注：如需要角色权限，配置角色权限字符 使用<code>@PreAuthorize(&quot;@ss.hasRole('admin')&quot;)</code></p> <h2 id="如何创建新的菜单页签"><a href="#如何创建新的菜单页签" class="header-anchor">#</a> 如何创建新的菜单页签</h2> <p>Vue设置路由跳转的两种方法</p> <p>一、路由跳转<code>router.push</code></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 字符串</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'apple'</span><span class="token punctuation">)</span>
<span class="token comment">// 对象</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'apple'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 命名路由</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'applename'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//直接路由带查询参数query，地址栏变成 /apple?color=red</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 命名路由带查询参数query，地址栏变成/apple?color=red</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'applename'</span><span class="token punctuation">,</span> <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//直接路由带路由参数params，params 不生效，如果提供了 path，params 会被忽略</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'applename'</span><span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 命名路由带路由参数params，地址栏是/apple/red</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'applename'</span><span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 其他方式</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/system/user&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>二、动态赋值<code>&lt;router-link :to=&quot;...&quot;&gt;</code>，<code>to</code>里的值可以是一个字符串路径，或者一个描述地址的对象。例如：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>// 字符串
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>apple<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> to apple<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
// 对象
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{path:'apple'}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> to apple<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
// 命名路由
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{name: 'applename'}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> to apple<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
//直接路由带查询参数query，地址栏变成 /apple?color=red
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{path: 'apple', query: {color: 'red' }}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> to apple<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
// 命名路由带查询参数query，地址栏变成/apple?color=red
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{name: 'applename', query: {color: 'red' }}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> to apple<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
//直接路由带路由参数params，params 不生效，如果提供了 path，params 会被忽略
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{path: 'apple', params: { color: 'red' }}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> to apple<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
// 命名路由带路由参数params，地址栏是/apple/red
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{name: 'applename', params: { color: 'red' }}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> to apple<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
// 其他方式
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>/system/user/' + scope.row.userId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>link-type<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ scope.row.userId }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="如何手动配置路由传参"><a href="#如何手动配置路由传参" class="header-anchor">#</a> 如何手动配置路由传参</h2> <p>第一种：使用<code>path</code>来匹配路由，然后通过<code>query</code>来传递参数，这种情况下<code>query</code>传递的参数会显示在<code>url</code>后面会跟<code>?id=</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/user/profile'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">id</span><span class="token operator">:</span> id
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>获取参数方式：<code>this.$route.query.id</code></p> <p>第二种：使用<code>name</code>来匹配路由，使用<code>params</code>传参，可以在路由的<code>path</code>里加参数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'UserProfile'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">id</span><span class="token operator">:</span> id
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>获取参数方式：<code>this.$route.params.id</code></p> <p>第三种：直接让路由携带参数跳转</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/user/profile/:id(\\d+)'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>获取参数方式：<code>this.$route.params.id</code></p> <h2 id="如何菜单配置路由传参"><a href="#如何菜单配置路由传参" class="header-anchor">#</a> 如何菜单配置路由传参</h2> <p>在菜单管理中选择菜单类型为菜单，填写对应的路由参数，如：<code>{&quot;id&quot;: 1, &quot;name&quot;: &quot;ry&quot;}</code></p> <p>在自己的组件中获取参数方式：<code>this.$route.query.id</code>，<code>this.$route.query.name</code></p> <div class="custom-block warning"><p class="custom-block-title">外链可以通过原生方式设置</p> <p>例如：http://ruoyi.vip?id=1&amp;name=ry</p></div> <h2 id="如何动态修改页签名称"><a href="#如何动态修改页签名称" class="header-anchor">#</a> 如何动态修改页签名称</h2> <p>可以使用<code>tagsView/updateVisitedView</code>动态修改名称，示例如下。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> id <span class="token operator">=</span> row<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token string">'自定义标题'</span> 
<span class="token keyword">const</span> route <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span> 
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'tagsView/updateVisitedView'</span><span class="token punctuation">,</span> route<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>此时页签名称会被修改成<code>自定义标题-{id}</code></p> <h2 id="如何实现路由的懒加载"><a href="#如何实现路由的懒加载" class="header-anchor">#</a> 如何实现路由的懒加载</h2> <p>在单页应用中，进入首页时，如果需要加载的内容过多，延时过长，不利于用户体验，而运用懒加载则可以将页面进行划分，需要的时候加载页面，可以有效的分担首页所承担的加载压力，减少首页加载用时。</p> <p>静态路由懒加载方式，自定义在<code>router\index.js</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/xxxx'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'xxxx'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/xxxx'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>动态路由懒加载方式，在<code>store\modules\permission.js</code>修改成<code>import</code>方式</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">loadView</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">view</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'development'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@/views/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>view<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用 import 实现生产环境的路由懒加载</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@/views/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>view<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="使用gzip解压缩静态文件"><a href="#使用gzip解压缩静态文件" class="header-anchor">#</a> 使用Gzip解压缩静态文件</h2> <p>需要先完成上述的步骤 <a href="/ruoyi-vue/document/hjbs.html#nginx配置">环境部署-Nginx配置-开启Gzip压缩</a></p> <p>上述方案配置后由于<code>Nginx</code>的动态压缩是对每个请求先压缩再输出，这样造成虚拟机浪费了很多<code>CPU</code>。解决这个问题可以利用<code>nginx</code>的<code>http_gzip_static_module</code>模块，主要作用是对于需要压缩的文件，直接读取已经压缩好的文件(文件名为加<code>.gz</code>)，而不是动态压缩（消耗性能）。所以采用这个方案需要确保目录文件名有生成<code>.gz</code>（最新版本的配置打包默认都会生成<code>.gz</code>文件）</p> <p>首先需要安装<code>nginx</code>的<code>http_gzip_static_module</code>模块</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 安装模块（如果存在其他模块,用空格分开 --with-xxx --with-xxx,防止覆盖）</span>
./configure --with-http_gzip_static_module

<span class="token comment"># 编译</span>
<span class="token function">make</span> <span class="token operator">&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>查询安装配置信息是否包含<code>http_gzip_static_module</code></p> <div class="language-sh line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted"> </div><br></div><pre class="language-sh"><code>./nginx <span class="token parameter variable">-V</span>

nginx version: nginx/1.8.1
built by gcc <span class="token number">4.8</span>.5 <span class="token number">20150623</span> <span class="token punctuation">(</span>Red Hat <span class="token number">4.8</span>.5-39<span class="token punctuation">)</span> <span class="token punctuation">(</span>GCC<span class="token punctuation">)</span> 
built with OpenSSL <span class="token number">1.0</span>.2k-fips  <span class="token number">26</span> Jan <span class="token number">2017</span>
TLS SNI support enabled
configure arguments: <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/nginx --with-http_ssl_module --with-http_gzip_static_module
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>配置<code>nginx.conf</code>的<code>gzip_static</code>属性</p> <div class="language-sh line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br></div><pre class="language-sh"><code>server <span class="token punctuation">{</span>
	listen       <span class="token number">80</span><span class="token punctuation">;</span>
	server_name vue.ruoyi.vip<span class="token punctuation">;</span>
	<span class="token comment"># 开启解压缩静态文件</span>
	gzip_static on<span class="token punctuation">;</span>
	location / <span class="token punctuation">{</span>
		root   /home/ruoyi/projects/ruoyi-ui<span class="token punctuation">;</span>
		try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html<span class="token punctuation">;</span>
		index index.html<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>开启<code>gzip_static</code>后，对于任何文件都会先查找是否有对应的<code>gz</code>文件。</p> <p>重启<code>nginx</code>，使其生效</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>./nginx <span class="token parameter variable">-s</span> reload
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>测试解压缩静态文件是否成功</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 查询 nginx worker 进程的PID</span>
<span class="token function">ps</span> ax <span class="token operator">|</span> <span class="token function">grep</span> nginx

<span class="token comment"># 使用strace追踪是否请求.gz</span>
<span class="token function">strace</span> <span class="token parameter variable">-p</span> <span class="token number">23558</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">|</span> <span class="token function">grep</span> gz

<span class="token comment"># 如果请求.gz的文件表示开启成功</span>
open<span class="token punctuation">(</span><span class="token string">&quot;/xxxx/static/css/chunk-171ca186.f59a1d86.css.gz&quot;</span>, O_RDONLY<span class="token operator">|</span>O_NONBLOCK<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">46</span>
open<span class="token punctuation">(</span><span class="token string">&quot;/xxxx/static/js/chunk-01ef53b6.a7928e48.js.gz&quot;</span>, O_RDONLY<span class="token operator">|</span>O_NONBLOCK<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">46</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="如何防止请求重复提交"><a href="#如何防止请求重复提交" class="header-anchor">#</a> 如何防止请求重复提交</h2> <p>后端可以通过<code>@RepeatSubmit</code>注解控制</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 在对应方法添加注解 @RepeatSubmit
 */</span>
<span class="token annotation punctuation">@RepeatSubmit</span>
<span class="token keyword">public</span> <span class="token class-name">AjaxResult</span> <span class="token function">edit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="如何进行流量限制控制"><a href="#如何进行流量限制控制" class="header-anchor">#</a> 如何进行流量限制控制</h2> <p>后端可以通过<code>@RateLimiter</code>注解控制</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 在对应方法添加注解 @RateLimiter
 */</span>
<span class="token annotation punctuation">@RateLimiter</span><span class="token punctuation">(</span>count <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> time <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">AjaxResult</span> <span class="token function">edit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="如何实现滑块验证码"><a href="#如何实现滑块验证码" class="header-anchor">#</a> 如何实现滑块验证码</h2> <p><a href="/ruoyi-vue/document/cjjc.html#集成aj-captcha实现滑块验证码">参考集成aj-captcha实现滑块验证码</a></p> <h2 id="异步处理获取用户信息"><a href="#异步处理获取用户信息" class="header-anchor">#</a> 异步处理获取用户信息</h2> <p>项目中可以通过<code>SecurityContextHolder.getContext().getAuthentication()</code>获取用户信息，例如</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">LoginUser</span> loginUser <span class="token operator">=</span> <span class="token class-name">SecurityUtils</span><span class="token punctuation">.</span><span class="token function">getLoginUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>绝大多数情况下都是通过同步的方式来获取用户信息，如果通过异步获取还需要添加<code>AsyncConfigurerSupport</code>处理。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 启动类上面添加，开启异步调用</span>
<span class="token annotation punctuation">@EnableAsync</span>
<span class="token comment">// 方法上面添加，异步执行</span>
<span class="token annotation punctuation">@Async</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ruoyi<span class="token punctuation">.</span>framework<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Executor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Executors</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>scheduling<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">AsyncConfigurerSupport</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">DelegatingSecurityContextExecutorService</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AsyncConfig</span> <span class="token keyword">extends</span> <span class="token class-name">AsyncConfigurerSupport</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
     * 异步执行需要使用权限框架自带的包装线程池 保证权限信息的传递
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Executor</span> <span class="token function">getAsyncExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DelegatingSecurityContextExecutorService</span><span class="token punctuation">(</span><span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="前端如何配置后端接口"><a href="#前端如何配置后端接口" class="header-anchor">#</a> 前端如何配置后端接口</h2> <p>对于特殊情况，需要直接调用后台接口或者指定域名可以修改<code>.env.production</code>文件<code>VUE_APP_BASE_API</code>属性</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># 后端接口地址
VUE_APP_BASE_API = '//localhost:8080'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="图片上传成功不能显示"><a href="#图片上传成功不能显示" class="header-anchor">#</a> 图片上传成功不能显示</h2> <p>文件上传成功后，请求访问后台地址会根据<code>profile</code>进行匹配，需要自己配置<code>nginx</code>代理，参考如下。</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /profile/</span> <span class="token punctuation">{</span>
    <span class="token comment"># 方式一：指向地址</span>
    <span class="token directive"><span class="token keyword">proxy_pass</span> http://127.0.0.1:9999/profile/</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /profile/</span>
<span class="token punctuation">{</span>
    <span class="token comment"># 方式二：指向目录，对应后台`application.yml`中的`profile`配置</span>
    <span class="token directive"><span class="token keyword">alias</span> /home/ruoyi/uploadPath/</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="富文本自定义上传地址"><a href="#富文本自定义上传地址" class="header-anchor">#</a> 富文本自定义上传地址</h2> <p>需要设置<code>:uploadUrl</code>属性，指定上传地址。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>editor v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;form.noticeContent&quot;</span> <span class="token operator">:</span>min<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">&quot;192&quot;</span> <span class="token operator">:</span>uploadUrl<span class="token operator">=</span><span class="token string">&quot;uploadUrl&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">uploadUrl</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_BASE_API</span> <span class="token operator">+</span> <span class="token string">&quot;/common/upload&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="富文本显示html内容"><a href="#富文本显示html内容" class="header-anchor">#</a> 富文本显示HTML内容</h2> <p>需要定义在<code>ql-container ql-snow/ql-editor</code>里面。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div class=&quot;ql-container ql-snow&quot;&gt;
  &lt;div class=&quot;ql-editor&quot; v-html=&quot;form.noticeContent&quot;/&gt;
&lt;/div&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="侧边栏如何默认展开"><a href="#侧边栏如何默认展开" class="header-anchor">#</a> 侧边栏如何默认展开</h2> <p>某些场景下，用户需要默认展开侧边栏的某些<code>sub-menu</code>，可以通过<code>default-openeds</code>来进行设置。</p> <p><code>layout\components\Sidebar\index.vue</code></p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu</span>
	<span class="token attr-name">:default-openeds</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>['/system', '/tool']<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">:default-active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>activeMenu<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">:collapse</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isCollapse<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">:background-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>settings.sideTheme === 'theme-dark' ? variables.menuBg : variables.menuLightBg<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">:text-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>settings.sideTheme === 'theme-dark' ? variables.menuText : 'rgba(0,0,0,.65)'<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">:unique-opened</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">:active-text-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>settings.theme<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">:collapse-transition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sidebar-item</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>route in sidebarRouters<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>route.path  + index<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>route<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:base-path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>route.path<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="如何调整左侧菜单宽度"><a href="#如何调整左侧菜单宽度" class="header-anchor">#</a> 如何调整左侧菜单宽度</h2> <p>如果觉得左侧菜单宽度不够，可以进行调整。</p> <p>在<code>ruoyi-ui\src\assets\styles\variables.scss</code>修改变量<code>$sideBarWidth: 200px;</code></p> <h2 id="左侧菜单如何默认收缩"><a href="#左侧菜单如何默认收缩" class="header-anchor">#</a> 左侧菜单如何默认收缩</h2> <p>在<code>ruoyi-ui\src\store\modules\app.js</code>修改变量<code>opened: false;</code></p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">sidebar</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">opened</span><span class="token operator">:</span> Cookies<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'sidebarStatus'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token operator">+</span>Cookies<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'sidebarStatus'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">withoutAnimation</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">device</span><span class="token operator">:</span> <span class="token string">'desktop'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">size</span><span class="token operator">:</span> Cookies<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'size'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'medium'</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="菜单名称过长显示不全"><a href="#菜单名称过长显示不全" class="header-anchor">#</a> 菜单名称过长显示不全</h2> <p>菜单名称太长的话超出宽度部分会显示<code>...</code>，此时我们可以自己调整一下菜单的宽度或者设置一个<code>title</code>，这样鼠标移动上去显示完整的菜单名称。</p> <p>在<code>layout\components\Sidebar\SidebarItem.vue</code>文件设置<code>:title</code></p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sidebar-item</span>
  <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child in item.children<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child.path<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:is-nest</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child.meta.title<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:base-path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>resolvePath(child.path)<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nest-menu<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>在<code>layout\components\Sidebar\Item.vue</code>文件设置<code>title={(title)}</code></p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>title<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  vnodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>span slot<span class="token operator">=</span><span class="token string">'title'</span> title<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="进入首页默认记忆控制台"><a href="#进入首页默认记忆控制台" class="header-anchor">#</a> 进入首页默认记忆控制台</h2> <p>例如用户退出后，下次登陆系统，能默认打开之前工作路径。</p> <p>可以在<code>request.js</code>，修改<code>LogOut</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'LogOut'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'/index'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>换成</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'LogOut'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="如何设置接口的超时时间"><a href="#如何设置接口的超时时间" class="header-anchor">#</a> 如何设置接口的超时时间</h2> <p><strong>全局超时时间设置src/utils/request.js</strong></p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> service <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">baseURL</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_BASE_API</span><span class="token punctuation">,</span>
  <span class="token comment">// 默认超时时间为10秒，可以自己定义默认的全局 timeout</span>
  <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">10000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>针对某个单独接口设置超时时间</strong></p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code><span class="token comment">// 在自己的接口里面单独加个`timeout`属性就行了</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getCodeImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/captchaImage'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">20000</span> <span class="token comment">// 20秒</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="默认跳转到第一个子菜单"><a href="#默认跳转到第一个子菜单" class="header-anchor">#</a> 默认跳转到第一个子菜单</h2> <p>在开启<code>TopNav</code>时需要点击主菜单时，想默认跳转到第一个子菜单可以在<code>handleSelect</code>事件处理。</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code><span class="token comment">// 菜单选择事件</span>
<span class="token function">handleSelect</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> keyPath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>currentIndex <span class="token operator">=</span> key<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ishttp</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// http(s):// 路径新窗口打开</span>
	window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token string">&quot;_blank&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;/redirect&quot;</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// /redirect 路径内部打开</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> key<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;/redirect&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
	<span class="token comment">// 显示左侧联动菜单</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">activeRoutes</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">let</span> myRoutes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>childrenMenus <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>childrenMenus<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	  <span class="token keyword">this</span><span class="token punctuation">.</span>childrenMenus<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">==</span> item<span class="token punctuation">.</span>parentPath <span class="token operator">||</span> <span class="token punctuation">(</span>key <span class="token operator">==</span> <span class="token string">&quot;index&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;&quot;</span> <span class="token operator">==</span> item<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		  myRoutes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	  <span class="token keyword">if</span><span class="token punctuation">(</span>myRoutes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>path <span class="token operator">!=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		  <span class="token literal-property property">path</span><span class="token operator">:</span> myRoutes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>path
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/index'</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	  <span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h2 id="生产环境图标加载时乱码"><a href="#生产环境图标加载时乱码" class="header-anchor">#</a> 生产环境图标加载时乱码</h2> <p>有一些小伙伴确实会出现这种情况，是因为<code>dart-sass</code>的问题，似乎这个作者现在也没打算解决。问题链接：<a href="https://github.com/sass/dart-sass/issues/1219" target="_blank" rel="noopener noreferrer">https://github.com/sass/dart-sass/issues/1219<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>如遇见可以换成<code>node-sass</code>。</p> <p>1、修改<code>package.json</code>（记得重新install）。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// 添加`node-sass`</span>
<span class="token property">&quot;node-sass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.14.1&quot;</span><span class="token punctuation">,</span>

<span class="token comment">// 移除`sass`</span>
<span class="token property">&quot;sass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.32.0&quot;</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>2、修改部分文件为<code>node-sass</code>语法</p> <p><code>::v-deep</code>替换成<code>/deep/</code></p> <div class="custom-block warning"><p class="custom-block-title">也可以采用如下方案，在vue.config.js加入sassOptions选项（建议）。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>css<span class="token operator">:</span> <span class="token punctuation">{</span>
  loaderOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    sass<span class="token operator">:</span> <span class="token punctuation">{</span>
      sassOptions<span class="token operator">:</span> <span class="token punctuation">{</span> outputStyle<span class="token operator">:</span> <span class="token string">&quot;expanded&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>详细的说明可以参考官方文档 <a href="https://webpack.js.org/loaders/sass-loader/#sassoptions" target="_blank" rel="noopener noreferrer">https://webpack.js.org/loaders/sass-loader/#sassoptions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h2 id="解决node-sass安装失败"><a href="#解决node-sass安装失败" class="header-anchor">#</a> 解决node-sass安装失败</h2> <p><code>node-sass</code> 安装失败的原因
<code>npm</code> 安装 <code>node-sass</code> 依赖时，会从 <code>github.com</code> 上下载 <code>.node</code> 文件。由于国内网络环境的问题，这个下载时间可能会很长，甚至导致超时失败。
这是使用 <code>sass</code> 的同学可能都会遇到的郁闷的问题。</p> <p>解决方案就是使用其他源，或者使用工具下载，然后将安装源指定到本地。</p> <p><b>解决方法一：使用淘宝镜像源（推荐）</b><br>
设置变量 sass_binary_site，指向淘宝镜像地址。示例</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm i node-sass --sass_binary_site=https://npm.taobao.org/mirrors/node-sass/

// 也可以设置系统环境变量的方式。示例
// linux、mac 下
SASS_BINARY_SITE=https://npm.taobao.org/mirrors/node-sass/ npm install node-sass

// window 下
set SASS_BINARY_SITE=https://npm.taobao.org/mirrors/node-sass/ &amp;&amp; npm install node-sass
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>或者设置全局镜像源：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm config set sass_binary_site https://npm.taobao.org/mirrors/node-sass/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>之后再涉及到 node-sass 的安装时就会从淘宝镜像下载。</p> <p><b>解决方法二：使用 cnpm</b><br>
使用 cnpm 安装 node-sass 会默认从淘宝镜像源下载，也是一个办法：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cnpm install node-sass
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><b>解决方法三：创建.npmrc文件</b><br>
在项目根目录创建.npmrc文件，复制下面代码到该文件。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>phantomjs_cdnurl=http://cnpmjs.org/downloads
sass_binary_site=https://npm.taobao.org/mirrors/node-sass/
registry=https://registry.npm.taobao.org
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>保存后 删除之前安装失败的包(第一次安装请跳过此步)</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm uninstall node-sass
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>重新安装</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install node-sass
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="浏览器兼容性问题需求"><a href="#浏览器兼容性问题需求" class="header-anchor">#</a> 浏览器兼容性问题需求</h2> <p>本项目暂时没有兼容性需求，如有兼容性需求可自行使用 babel-polyfill。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>// 下载依赖
<span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--save</span> babel-polyfill
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在入口文件中引入</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token string">'babel-polyfill'</span>
<span class="token comment">// 或者</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'babel-polyfill'</span><span class="token punctuation">)</span> <span class="token comment">//es6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在 webpack.config.js 中加入 babel-polyfill 到你的入口数组：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'babel-polyfill'</span><span class="token punctuation">,</span> <span class="token string">'./app/js'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>具体可参考 <a href="https://babeljs.io/docs/en/babel-polyfill/" target="_blank" rel="noopener noreferrer">link<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>或者更简单暴力 <a href="https://cdn.polyfill.io/v3/" target="_blank" rel="noopener noreferrer">polyfill.io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 使用它给的一个 cdn 地址，引入这段 js 之后它会自动判断游览器，加载缺少的那部分 polyfill,但国内速度肯能不行，大家可以自己搭 cdn。</p> <h2 id="如何分析构建文件体积"><a href="#如何分析构建文件体积" class="header-anchor">#</a> 如何分析构建文件体积</h2> <p>如果你的构建文件很大，你可以通过 <code>webpack-bundle-analyzer</code> 命令构建并分析依赖模块的体积分布，从而优化你的代码。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run preview -- <span class="token parameter variable">--report</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>运行之后你就可以在 <a href="http://localhost:9526/report.html" target="_blank" rel="noopener noreferrer">http://localhost:9526/report.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 页面看到具体的体积分布</p> <p><img src="https://oscimg.oschina.net/oscnet/up-d97831fab48b955ca15111d110c49e518f2.JPEG" alt=""></p> <p>具体的优化可以参考 <a href="https://zhuanlan.zhihu.com/p/26710831" target="_blank" rel="noopener noreferrer">Webpack 大法之 Code Splitting<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>强烈建议开启 gzip ，使用之后普遍体积只有原先 1/3 左右。打出来的 app.js 过大，查看一下是不是 Uglify 配置不正确或者 sourceMap 没弄对。 优化相关请看该 <a href="https://zhuanlan.zhihu.com/p/27710902" target="_blank" rel="noopener noreferrer">Webpack Freestyle 之 Long Term Cache<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h2 id="模态框点击空白不消失"><a href="#模态框点击空白不消失" class="header-anchor">#</a> 模态框点击空白不消失</h2> <p>设置属性<code>:close-on-click-modal=&quot;false&quot;</code></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">:close-on-click-modal</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果想全部设置可以在<code>main.js</code>中添加以下内容</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br></div><pre class="language-js"><code>Element<span class="token punctuation">.</span>Dialog<span class="token punctuation">.</span>props<span class="token punctuation">.</span>closeOnClickModal<span class="token punctuation">.</span>default <span class="token operator">=</span> <span class="token boolean">false</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="如何给模态框添加拖拽"><a href="#如何给模态框添加拖拽" class="header-anchor">#</a> 如何给模态框添加拖拽</h2> <p>设置属性<code>v-dialogDrag</code></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">v-dialogDrag</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="模态框可拖动弹窗宽度"><a href="#模态框可拖动弹窗宽度" class="header-anchor">#</a> 模态框可拖动弹窗宽度</h2> <p>设置属性<code>v-dialogDragWidth</code></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">v-dialogDragWidth</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="模态框可拖动弹窗高度"><a href="#模态框可拖动弹窗高度" class="header-anchor">#</a> 模态框可拖动弹窗高度</h2> <p>设置属性<code>v-dialogDragHeight</code></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">v-dialogDragHeight</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="如何给表格设置固定列"><a href="#如何给表格设置固定列" class="header-anchor">#</a> 如何给表格设置固定列</h2> <p>在<code>el-table-column</code>对应列添加<code>fixed</code>参数，可选值<code>left</code>、<code>right</code></p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>编号<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fixed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>操作<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fixed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="如何给默认的表格加边框"><a href="#如何给默认的表格加边框" class="header-anchor">#</a> 如何给默认的表格加边框</h2> <p><code>el-table</code> 加上 <code>border</code></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table</span> <span class="token attr-name">border</span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataList<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果想全部设置可以在<code>main.js</code>中添加以下内容</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 带有斑马纹</span>
Element<span class="token punctuation">.</span>Table<span class="token punctuation">.</span>props<span class="token punctuation">.</span>stripe <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">default</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span>Boolean
<span class="token punctuation">}</span>

<span class="token comment">// 带有边框</span>
Element<span class="token punctuation">.</span>Table<span class="token punctuation">.</span>props<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">default</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span>Boolean
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="表单按回车键会刷新页面问题"><a href="#表单按回车键会刷新页面问题" class="header-anchor">#</a> 表单按回车键会刷新页面问题</h2> <p>原因：当表单只有一个输入框时，就会造成该现象。</p> <p>解决：在<code>el-form</code>标签里加上<code>@submit.native.prevent</code>即可。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 在这里加 @submit.native.prevent --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">@submit.native.prevent</span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>query<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="如何在表格中实现图片预览"><a href="#如何在表格中实现图片预览" class="header-anchor">#</a> 如何在表格中实现图片预览</h2> <p>方式一：使用<code>img</code>预览组件</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>图片<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.row.url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 45px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 45px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>方式二：使用<code>image-preview</code>预览组件（推荐）</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- 内链地址预览 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>图片<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image-preview</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.row.url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 外链地址预览 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>图片<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image-preview</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://ruoyi.vip/images/logo.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>默认的<code>img</code>组件不会携带<code>VUE_APP_BASE_API</code>不能被代理，通过<code>image-preview</code>封装的预览组件会自动携带<code>VUE_APP_BASE_API</code>会被代理。</p></div> <h2 id="如何支持多类型数据库"><a href="#如何支持多类型数据库" class="header-anchor">#</a> 如何支持多类型数据库</h2> <p><a href="/ruoyi/other/faq.html#如何支持多类型数据库">参考如何支持多类型数据库</a></p> <h2 id="如何降低mysql驱动版本"><a href="#如何降低mysql驱动版本" class="header-anchor">#</a> 如何降低mysql驱动版本</h2> <p><a href="/ruoyi/other/faq.html#如何降低mysql驱动版本">参考如何降低mysql驱动版本</a></p> <h2 id="如何配置tomcat访问日志"><a href="#如何配置tomcat访问日志" class="header-anchor">#</a> 如何配置tomcat访问日志</h2> <p><a href="/ruoyi/other/faq.html#如何配置tomcat访问日志">参考如何配置tomcat访问日志</a></p> <h2 id="如何配置项目访问根路径"><a href="#如何配置项目访问根路径" class="header-anchor">#</a> 如何配置项目访问根路径</h2> <p><a href="/ruoyi/other/faq.html#如何配置项目访问根路径">参考如何配置项目访问根路径</a></p> <h2 id="普通用户创建文件无权限"><a href="#普通用户创建文件无权限" class="header-anchor">#</a> 普通用户创建文件无权限</h2> <p><a href="/ruoyi/other/faq.html#普通用户创建文件无权限">参考普通用户创建文件无权限</a></p> <h2 id="swagger的启用和禁用"><a href="#swagger的启用和禁用" class="header-anchor">#</a> Swagger的启用和禁用</h2> <p><a href="/ruoyi/other/faq.html#Swagger的启用和禁用">Swagger的启用和禁用</a></p> <h2 id="如何汉化系统接口swagger"><a href="#如何汉化系统接口swagger" class="header-anchor">#</a> 如何汉化系统接口Swagger</h2> <p><a href="/ruoyi/other/faq.html#如何汉化系统接口swagger">参考如何汉化系统接口Swagger</a></p> <h2 id="swagger接口出现转换错误"><a href="#swagger接口出现转换错误" class="header-anchor">#</a> Swagger接口出现转换错误</h2> <p><a href="/ruoyi/other/faq.html#Swagger接口出现转换错误">参考Swagger接口出现转换错误</a></p> <h2 id="如何excel导出子对象多个字段"><a href="#如何excel导出子对象多个字段" class="header-anchor">#</a> 如何Excel导出子对象多个字段</h2> <p><a href="/ruoyi/other/faq.html#如何excel导出子对象多个字段">参考如何Excel导出子对象多个字段</a></p> <h2 id="tomcat部署多个war包项目异常"><a href="#tomcat部署多个war包项目异常" class="header-anchor">#</a> Tomcat部署多个War包项目异常</h2> <p><a href="/ruoyi/other/faq.html#tomcat部署多个war包项目异常">参考Tomcat部署多个War包项目异常</a></p> <h2 id="tomcat临时目录tmp抛错误异常"><a href="#tomcat临时目录tmp抛错误异常" class="header-anchor">#</a> Tomcat临时目录tmp抛错误异常</h2> <p><a href="/ruoyi/other/faq.html#tomcat临时目录tmp抛错误异常">参考Tomcat临时目录tmp抛错误异常</a></p> <h2 id="如何部署配置支持https访问"><a href="#如何部署配置支持https访问" class="header-anchor">#</a> 如何部署配置支持https访问</h2> <p><a href="/ruoyi/other/faq.html#如何部署配置支持https访问">参考如何部署配置支持https访问</a></p> <h2 id="特殊字符串被过滤的解决办法"><a href="#特殊字符串被过滤的解决办法" class="header-anchor">#</a> 特殊字符串被过滤的解决办法</h2> <p><a href="/ruoyi/other/faq.html#特殊字符串被过滤的解决办法">参考特殊字符串被过滤的解决办法</a></p> <h2 id="linux系统验证码乱码解决方法"><a href="#linux系统验证码乱码解决方法" class="header-anchor">#</a> Linux系统验证码乱码解决方法</h2> <p><a href="/ruoyi/other/faq.html#linux系统验证码乱码解决方法">参考Linux系统验证码乱码解决方法</a></p> <h2 id="公共数据库定时任务没有被执行"><a href="#公共数据库定时任务没有被执行" class="header-anchor">#</a> 公共数据库定时任务没有被执行</h2> <p><a href="/ruoyi/other/faq.html#公共数据库定时任务没有被执行">参考公共数据库定时任务没有被执行</a></p> <h2 id="如何处理long类型精度丢失问题"><a href="#如何处理long类型精度丢失问题" class="header-anchor">#</a> 如何处理Long类型精度丢失问题</h2> <p><a href="/ruoyi/other/faq.html#如何处理long类型精度丢失问题">如何处理Long类型精度丢失问题</a></p> <h2 id="如何修改swagger默认访问地址"><a href="#如何修改swagger默认访问地址" class="header-anchor">#</a> 如何修改Swagger默认访问地址</h2> <p>由于采用的前后端分离模式，且前端<code>Swagger</code>使用的<code>iframe</code>打开页面。所以默认请求的是前端地址，然后前端通过代理转发到后端接口。对于特殊情况需要直接请求后端提供如下方案：</p> <p>方案1：使用新窗口打开，不要用<code>iframe</code>打开。因为<code>swagger</code>默认是获取当前服务的地址。</p> <p>方案2：在<code>SwaggerConfig</code>配置中<code>createRestApi</code>方法设置后端的地址。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Docket</span><span class="token punctuation">(</span><span class="token class-name">DocumentationType</span><span class="token punctuation">.</span><span class="token constant">SWAGGER_2</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token comment">// 后端地址</span>
    <span class="token punctuation">.</span><span class="token function">host</span><span class="token punctuation">(</span><span class="token string">&quot;localhost:8080&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="如何默认显示顶部导航栏菜单"><a href="#如何默认显示顶部导航栏菜单" class="header-anchor">#</a> 如何默认显示顶部导航栏菜单</h2> <p>在<code>ruoyi-ui\src\settings.js</code>中设置<code>topNav</code>为<code>true</code>表示显示顶部导航，也可以在用户布局设置中开启<code>TopNav</code>后保存配置。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
* 是否显示顶部导航
*/</span>
<span class="token literal-property property">topNav</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="如何修改超级管理员登录密码"><a href="#如何修改超级管理员登录密码" class="header-anchor">#</a> 如何修改超级管理员登录密码</h2> <p>1、如果是自己知道超级管理员的密码且需要修改的情况。<br>
默认口令 <code>admin/admin123</code>，可以登录后在首页个人中心修改密码。</p> <p>2、如果自己忘记了超级管理员的密码可以重新生成秘钥替换数据库密码。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">SecurityUtils</span><span class="token punctuation">.</span><span class="token function">encryptPassword</span><span class="token punctuation">(</span><span class="token string">&quot;admin123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="如何修改数据监控登录账户密码"><a href="#如何修改数据监控登录账户密码" class="header-anchor">#</a> 如何修改数据监控登录账户密码</h2> <p><a href="/ruoyi/other/faq.html#如何修改数据监控登录账户密码">参考如何修改数据监控登录账户密码</a></p> <h2 id="如何设置用户登录缓存超时时间"><a href="#如何设置用户登录缓存超时时间" class="header-anchor">#</a> 如何设置用户登录缓存超时时间</h2> <p>找到<code>ruoyi-admin\src\main\resources</code>下面的<code>application.yml</code>配置文件</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token comment"># token配置</span>
<span class="token key atrule">token</span><span class="token punctuation">:</span>
    <span class="token comment"># 令牌有效期（默认30分钟）</span>
    <span class="token key atrule">expireTime</span><span class="token punctuation">:</span> <span class="token number">30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="如何格式化前端日期时间戳内容"><a href="#如何格式化前端日期时间戳内容" class="header-anchor">#</a> 如何格式化前端日期时间戳内容</h2> <p>对应一些时间格式需要在前端进行格式化操作情况，解决方案如下</p> <p>1、后端使用<code>JsonFormat</code>注解格式化日期，时间戳<code>yyyy-MM-dd HH:mm:ss</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/** 创建时间 */</span>
<span class="token annotation punctuation">@JsonFormat</span><span class="token punctuation">(</span>pattern <span class="token operator">=</span> <span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Date</span> time<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>2、前端使用<code>parseTime</code>方法格式化日期，时间戳<code>{y}-{m}-{d} {h}:{i}:{s}</code></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column label<span class="token operator">=</span><span class="token string">&quot;创建时间&quot;</span> align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;createTime&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;160&quot;</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">&quot;scope&quot;</span><span class="token operator">&gt;</span>
	  <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">parseTime</span><span class="token punctuation">(</span>scope<span class="token punctuation">.</span>row<span class="token punctuation">.</span>createTime<span class="token punctuation">,</span> <span class="token string">'{y}-{m}-{d} {h}:{i}:{s}'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="登录页如何开启注册用户功能"><a href="#登录页如何开启注册用户功能" class="header-anchor">#</a> 登录页如何开启注册用户功能</h2> <p>在菜单<code>参数设置</code>修改参数键名<code>sys.account.registerUser</code>设置<code>true</code>即可。默认为<code>false</code>关闭。</p> <p>同时在前端<code>login.vue</code>页面需要设置属性<code>register</code>注册开关为<code>true</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Login&quot;</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// 注册开关</span>
      <span class="token literal-property property">register</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	  <span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="登录页面如何不显示验证码"><a href="#登录页面如何不显示验证码" class="header-anchor">#</a> 登录页面如何不显示验证码</h2> <p>在菜单<code>参数设置</code>修改参数键名<code>sys.account.captchaOnOff</code>设置<code>false</code>即可。默认为<code>true</code>开启。</p> <h2 id="如何限制账户不允许多终端登录"><a href="#如何限制账户不允许多终端登录" class="header-anchor">#</a> 如何限制账户不允许多终端登录</h2> <p>这本来是一个可有可无的问题，不过经常有小伙伴有这样的需求。废话不多说，先来看同一用户不同终端限制登录的解决方法。方法很简单，大致思路就是做出userid与token（一个用户对应一个token，userid唯一）的键值对，存于缓存中。用于登录时判断用户是否在别的终端在线。详细实现代码如下：</p> <p>1、<code>application.yml</code>新增一个配置<code>soloLogin</code>用于限制多终端同时登录。</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token comment"># token配置</span>
<span class="token key atrule">token</span><span class="token punctuation">:</span>
    <span class="token comment"># 是否允许账户多终端同时登录（true允许 false不允许）</span>
    <span class="token key atrule">soloLogin</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>2、<code>Constants.java</code>新增一个常量<code>LOGIN_USERID_KEY</code>公用</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 登录用户编号 redis key
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">LOGIN_USERID_KEY</span> <span class="token operator">=</span> <span class="token string">&quot;login_userid:&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>3、调整<code>TokenService.java</code>，存储&amp;刷新缓存用户编号信息</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 是否允许账户多终端同时登录（true允许 false不允许）</span>
<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${token.soloLogin}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token keyword">boolean</span> soloLogin<span class="token punctuation">;</span>

<span class="token comment">/**
 * 删除用户身份信息
 */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delLoginUser</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">,</span> <span class="token class-name">Long</span> userId<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotEmpty</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token class-name">String</span> userKey <span class="token operator">=</span> <span class="token function">getTokenKey</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
		redisCache<span class="token punctuation">.</span><span class="token function">deleteObject</span><span class="token punctuation">(</span>userKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>soloLogin <span class="token operator">&amp;&amp;</span> <span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotNull</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token class-name">String</span> userIdKey <span class="token operator">=</span> <span class="token function">getUserIdKey</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
		redisCache<span class="token punctuation">.</span><span class="token function">deleteObject</span><span class="token punctuation">(</span>userIdKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 刷新令牌有效期
 * 
 * @param loginUser 登录信息
 */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">refreshToken</span><span class="token punctuation">(</span><span class="token class-name">LoginUser</span> loginUser<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	loginUser<span class="token punctuation">.</span><span class="token function">setLoginTime</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	loginUser<span class="token punctuation">.</span><span class="token function">setExpireTime</span><span class="token punctuation">(</span>loginUser<span class="token punctuation">.</span><span class="token function">getLoginTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> expireTime <span class="token operator">*</span> <span class="token constant">MILLIS_MINUTE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 根据uuid将loginUser缓存</span>
	<span class="token class-name">String</span> userKey <span class="token operator">=</span> <span class="token function">getTokenKey</span><span class="token punctuation">(</span>loginUser<span class="token punctuation">.</span><span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	redisCache<span class="token punctuation">.</span><span class="token function">setCacheObject</span><span class="token punctuation">(</span>userKey<span class="token punctuation">,</span> loginUser<span class="token punctuation">,</span> expireTime<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">MINUTES</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>soloLogin<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token comment">// 缓存用户唯一标识，防止同一帐号，同时登录</span>
		<span class="token class-name">String</span> userIdKey <span class="token operator">=</span> <span class="token function">getUserIdKey</span><span class="token punctuation">(</span>loginUser<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		redisCache<span class="token punctuation">.</span><span class="token function">setCacheObject</span><span class="token punctuation">(</span>userIdKey<span class="token punctuation">,</span> userKey<span class="token punctuation">,</span> expireTime<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">MINUTES</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">getUserIdKey</span><span class="token punctuation">(</span><span class="token class-name">Long</span> userId<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token class-name">Constants</span><span class="token punctuation">.</span><span class="token constant">LOGIN_USERID_KEY</span> <span class="token operator">+</span> userId<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><p>4、自定义退出处理类<code>LogoutSuccessHandlerImpl.java</code>清除缓存方法添加用户编号</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 删除用户缓存记录</span>
tokenService<span class="token punctuation">.</span><span class="token function">delLoginUser</span><span class="token punctuation">(</span>loginUser<span class="token punctuation">.</span><span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> loginUser<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>5、登录方法<code>SysLoginService.java</code>，验证如果用户不允许多终端同时登录，清除缓存信息</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 是否允许账户多终端同时登录（true允许 false不允许）</span>
<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${token.soloLogin}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token keyword">boolean</span> soloLogin<span class="token punctuation">;</span>
	
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>soloLogin<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">// 如果用户不允许多终端同时登录，清除缓存信息</span>
	<span class="token class-name">String</span> userIdKey <span class="token operator">=</span> <span class="token class-name">Constants</span><span class="token punctuation">.</span><span class="token constant">LOGIN_USERID_KEY</span> <span class="token operator">+</span> loginUser<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">String</span> userKey <span class="token operator">=</span> redisCache<span class="token punctuation">.</span><span class="token function">getCacheObject</span><span class="token punctuation">(</span>userIdKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotEmpty</span><span class="token punctuation">(</span>userKey<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		redisCache<span class="token punctuation">.</span><span class="token function">deleteObject</span><span class="token punctuation">(</span>userIdKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
		redisCache<span class="token punctuation">.</span><span class="token function">deleteObject</span><span class="token punctuation">(</span>userKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="如何区分部署多个项目的redis缓存"><a href="#如何区分部署多个项目的redis缓存" class="header-anchor">#</a> 如何区分部署多个项目的Redis缓存</h2> <p>如果部署了多个若依系统，连接的是同一个<code>Redis</code>源时会导致<code>Key</code>值冲突，我们可以修改<code>Redis</code>默认的序列化值用于区分。</p> <p>1、新增<code>RedisKeySerializer.java</code>序列化，添加<code>Key</code>前缀值。</p> <div class="language-java line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br></div><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedisKeySerializer</span> <span class="token keyword">implements</span> <span class="token class-name">RedisSerializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RuoYiConfig</span> config<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Charset</span> charset<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">RedisKeySerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">(</span><span class="token class-name">Charset</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;UTF8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">RedisKeySerializer</span><span class="token punctuation">(</span><span class="token class-name">Charset</span> charset<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">notNull</span><span class="token punctuation">(</span>charset<span class="token punctuation">,</span> <span class="token string">&quot;字符集不允许为NULL&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>charset <span class="token operator">=</span> charset<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token class-name">String</span> string<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SerializationException</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// 通过项目名称ruoyi.name来定义Redis前缀，用于区分项目缓存</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotEmpty</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span>charset<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> string<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span>charset<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">deserialize</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SerializationException</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>bytes <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> charset<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>2、修改<code>RedisConfig.java</code>，配置新的<code>RedisKeySerializer</code>。</p> <div class="language-java line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;unchecked&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;rawtypes&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">redisTemplate</span><span class="token punctuation">(</span><span class="token class-name">RedisConnectionFactory</span> connectionFactory<span class="token punctuation">,</span> <span class="token class-name">RedisKeySerializer</span> redisKeySerializer<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> template <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	template<span class="token punctuation">.</span><span class="token function">setConnectionFactory</span><span class="token punctuation">(</span>connectionFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token class-name">FastJson2JsonRedisSerializer</span> serializer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FastJson2JsonRedisSerializer</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token class-name">ObjectMapper</span> mapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	mapper<span class="token punctuation">.</span><span class="token function">setVisibility</span><span class="token punctuation">(</span><span class="token class-name">PropertyAccessor</span><span class="token punctuation">.</span><span class="token constant">ALL</span><span class="token punctuation">,</span> <span class="token class-name">JsonAutoDetect<span class="token punctuation">.</span>Visibility</span><span class="token punctuation">.</span><span class="token constant">ANY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	mapper<span class="token punctuation">.</span><span class="token function">activateDefaultTyping</span><span class="token punctuation">(</span><span class="token class-name">LaissezFaireSubTypeValidator</span><span class="token punctuation">.</span>instance<span class="token punctuation">,</span> <span class="token class-name">ObjectMapper<span class="token punctuation">.</span>DefaultTyping</span><span class="token punctuation">.</span><span class="token constant">NON_FINAL</span><span class="token punctuation">,</span> <span class="token class-name">JsonTypeInfo<span class="token punctuation">.</span>As</span><span class="token punctuation">.</span><span class="token constant">PROPERTY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	serializer<span class="token punctuation">.</span><span class="token function">setObjectMapper</span><span class="token punctuation">(</span>mapper<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 使用StringRedisSerializer来序列化和反序列化redis的key值</span>
	template<span class="token punctuation">.</span><span class="token function">setKeySerializer</span><span class="token punctuation">(</span>redisKeySerializer<span class="token punctuation">)</span><span class="token punctuation">;</span>
	template<span class="token punctuation">.</span><span class="token function">setValueSerializer</span><span class="token punctuation">(</span>serializer<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Hash的key也采用StringRedisSerializer的序列化方式</span>
	template<span class="token punctuation">.</span><span class="token function">setKeySerializer</span><span class="token punctuation">(</span>redisKeySerializer<span class="token punctuation">)</span><span class="token punctuation">;</span>
	template<span class="token punctuation">.</span><span class="token function">setHashValueSerializer</span><span class="token punctuation">(</span>serializer<span class="token punctuation">)</span><span class="token punctuation">;</span>

	template<span class="token punctuation">.</span><span class="token function">afterPropertiesSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> template<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>此时自定义配置<code>application.yml</code>中的<code>ruoyi.name</code>就会把所有<code>redis key</code>加上对应的前缀。</p> <h2 id="前端静态资源如何整合到后端访问"><a href="#前端静态资源如何整合到后端访问" class="header-anchor">#</a> 前端静态资源如何整合到后端访问</h2> <p>分离版本都是前端和后端单独部署的，但是有些特殊情况想把前端静态资源整合到后端。提供如下方案：</p> <p>1、修改<code>ruoyi-ui</code>中的<code>.env.production</code>（二选一）</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 本机地址访问
VUE_APP_BASE_API = '/'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>// 任意地址访问
VUE_APP_BASE_API = '//localhost:8080'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>2、修改<code>ruoyi-ui</code>中的<code>router/index.js</code>，设置<code>mode</code>属性为<code>hash</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'hash'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">scrollBehavior</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> constantRoutes
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>3、执行<code>bin\build.bat</code>打包前端静态资源文件。</p> <p>4、修改后端<code>resources</code>中的<code>application.yml</code>，添加<code>thymeleaf</code>模板引擎配置</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token comment"># 模板引擎</span>
  <span class="token key atrule">thymeleaf</span><span class="token punctuation">:</span>
    <span class="token key atrule">mode</span><span class="token punctuation">:</span> HTML
    <span class="token key atrule">encoding</span><span class="token punctuation">:</span> utf<span class="token punctuation">-</span><span class="token number">8</span>
    <span class="token key atrule">cache</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>5、修改后端<code>pom.xml</code>，增加<code>thymeleaf</code>模板引擎依赖</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- spring-boot-thymeleaf --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>6、修改后端<code>ResourcesConfig.java</code>中的addResourceHandlers，添加静态资源映射地址</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/** 前端静态资源配置 */</span>
registry<span class="token punctuation">.</span><span class="token function">addResourceHandler</span><span class="token punctuation">(</span><span class="token string">&quot;/static/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addResourceLocations</span><span class="token punctuation">(</span><span class="token string">&quot;classpath:/static/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>7、修改后端<code>SecurityConfig.java</code>中的configure，添加允许访问的地址。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span>
		<span class="token class-name">HttpMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span><span class="token punctuation">,</span>
		<span class="token string">&quot;/*.html&quot;</span><span class="token punctuation">,</span>
		<span class="token string">&quot;/**/*.html&quot;</span><span class="token punctuation">,</span>
		<span class="token string">&quot;/**/*.css&quot;</span><span class="token punctuation">,</span>
		<span class="token string">&quot;/**/*.js&quot;</span><span class="token punctuation">,</span>
		<span class="token string">&quot;/static/**&quot;</span><span class="token punctuation">,</span>
		<span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
		<span class="token string">&quot;/index&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>8、后端新建访问控制处理<code>IndexController.java</code>设置对应访问页面。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ruoyi<span class="token punctuation">.</span>project<span class="token punctuation">.</span>system<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Controller</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IndexController</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 系统首页</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/index&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/login&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>9、整合前端<code>dist</code>静态资源文件到后端</p> <ul><li><p>后端<code>resources</code>下新建<code>templates</code>目录，复制静态页面<code>index.html</code>过来。</p></li> <li><p>复制静态文件<code>static</code>到<code>resources</code>目录下。</p></li></ul> <p>10、启动测试访问地址</p> <p>打开浏览器，输入：<code>http://localhost:8080</code> 能正常访问和登录表示成功。</p> <h2 id="使用velocity模板引擎兼容-符号"><a href="#使用velocity模板引擎兼容-符号" class="header-anchor">#</a> 使用Velocity模板引擎兼容$符号</h2> <p><a href="/ruoyi/other/faq.html#使用Velocity模板引擎兼容$符号">使用Velocity模板引擎兼容$符号</a></p> <h2 id="登录密码如何使用加密传输方式"><a href="#登录密码如何使用加密传输方式" class="header-anchor">#</a> 登录密码如何使用加密传输方式</h2> <p><a href="/ruoyi-vue/document/cjjc.html#集成jsencrypt实现密码加密传输方式">集成jsencrypt实现密码加密传输方式</a></p> <h2 id="如何解决多数据源事务的一致性"><a href="#如何解决多数据源事务的一致性" class="header-anchor">#</a> 如何解决多数据源事务的一致性</h2> <p><a href="/ruoyi/other/faq.html#如何解决多数据源事务的一致性">参考如何解决多数据源事务的一致性</a></p> <h2 id="登录出现datatypeconverter异常"><a href="#登录出现datatypeconverter异常" class="header-anchor">#</a> 登录出现DatatypeConverter异常</h2> <p>错误提示：<code>Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter</code></p> <p>由于<code>&gt;= jdk9</code>中不再包含这个<code>jar</code>包，所以需要在<code>ruoyi-common\pom.xml</code>手动添加依赖。</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.xml.bind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jaxb-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="如何优雅的关闭后台系统服务"><a href="#如何优雅的关闭后台系统服务" class="header-anchor">#</a> 如何优雅的关闭后台系统服务</h2> <p><a href="/ruoyi-vue/document/cjjc.html#集成actuator实现优雅关闭应用">参考集成actuator实现优雅关闭应用</a></p> <h2 id="如何解决导出使用下载插件出现异常"><a href="#如何解决导出使用下载插件出现异常" class="header-anchor">#</a> 如何解决导出使用下载插件出现异常</h2> <p><a href="/ruoyi/other/faq.html#如何解决导出使用下载插件出现异常">参考如何解决导出使用下载插件出现异常</a></p> <h2 id="更多项目常见问题查询"><a href="#更多项目常见问题查询" class="header-anchor">#</a> 更多项目常见问题查询</h2> <p>分离版本问题和不分离版本大多数雷同。</p> <p><a href="/ruoyi/other/faq.html">RuoYi不分离版本常见问题点我进入</a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ruoyi-vue/document/gxrz.html" class="prev">
        更新日志
      </a></span> <span class="next"><a href="/ruoyi-vue/other/donate.html">
        捐赠支持
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c3abf7ee.js" defer></script><script src="/assets/js/2.f516d180.js" defer></script><script src="/assets/js/45.4e39aa7c.js" defer></script>
  </body>
</html>
